"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{6046:(e,t,s)=>{var a=s(6658);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8968:(e,t,s)=>{s.d(t,{A:()=>n});var a=s(5155),r=s(7458),l=s(6046),c=s(2115);function n(){var e,t,s,n,o;let{user:i,publicKey:d,relays:m,ndk:u,addRelay:x,removeRelay:h,getFriends:p,getMatches:g,getMatchesInvolvingMe:f,logout:y,createMatch:v,updateProfile:b,addFriend:j}=(0,r.y)(),N=(0,l.useRouter)(),[w,k]=(0,c.useState)([]),[C,S]=(0,c.useState)([]),[A,M]=(0,c.useState)([]),[_,E]=(0,c.useState)([]),[D,P]=(0,c.useState)(""),[F,R]=(0,c.useState)(!0),[Y,L]=(0,c.useState)([]),[z,B]=(0,c.useState)("profile"),[U,W]=(0,c.useState)(!1),[H,T]=(0,c.useState)(!1),[V,q]=(0,c.useState)(!1),[G,I]=(0,c.useState)(""),[K,J]=(0,c.useState)(""),[O,Q]=(0,c.useState)(!1),[X,Z]=(0,c.useState)({name:(null==i?void 0:null===(e=i.profile)||void 0===e?void 0:e.name)||"",about:"",picture:"string"==typeof(null==i?void 0:null===(t=i.profile)||void 0===t?void 0:t.picture)?i.profile.picture:""}),[$,ee]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(null==i?void 0:i.profile)&&Z({name:i.profile.name||"",about:i.profile.about||"",picture:"string"==typeof i.profile.picture?i.profile.picture:""})},[i]),(0,c.useEffect)(()=>{i&&u&&d&&(async()=>{try{let t=await u.fetchEvents({kinds:[4],authors:[d],limit:100}),s=new Map;for(let a of Array.from(t)){var e;let t=null===(e=a.tags.find(e=>"p"===e[0]))||void 0===e?void 0:e[1];if(!t)continue;let r=s.get(t);if(!r||r.created_at<a.created_at)try{let e=window.nostr;if(!(null==e?void 0:e.nip04))throw Error("NIP-04 encryption not supported by extension");let r=await e.nip04.decrypt(t,a.content);s.set(t,{content:r,created_at:a.created_at})}catch(e){console.error("Error decrypting message:",e),s.set(t,{content:"(Unable to decrypt message)",created_at:a.created_at})}}let a="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",r=await Promise.all(Array.from(s.entries()).map(async e=>{let[t,s]=e;try{let e=u.getUser({pubkey:t}),r=await e.fetchProfile(),l="string"==typeof(null==r?void 0:r.picture)?r.picture:a;return{pubkey:t,lastMessage:s,profile:{name:(null==r?void 0:r.name)||t.slice(0,8),picture:l}}}catch(e){return console.error("Error fetching profile for user:",t,e),{pubkey:t,lastMessage:s,profile:{name:t.slice(0,8),picture:a}}}}));r.sort((e,t)=>t.lastMessage.created_at-e.lastMessage.created_at),E(r)}catch(e){console.error("Error loading active chats:",e)}})()},[u,i,d]),(0,c.useEffect)(()=>{if(!i){N.push("/");return}(async()=>{try{let e=[],t=[],s=[];try{e=await p()}catch(e){console.error("Error loading friends:",e)}try{let e=await g();t=Array.from(e).map(e=>({id:e.id||"",content:e.content||"",created_at:Math.floor(e.created_at||Date.now()/1e3),pubkey:e.pubkey||"",tags:e.tags.map(e=>e.map(e=>String(e)))}))}catch(e){console.error("Error loading matches:",e)}try{let e=await f();s=Array.from(e).map(e=>({id:e.id||"",content:e.content||"",created_at:Math.floor(e.created_at||Date.now()/1e3),pubkey:e.pubkey||"",tags:e.tags.map(e=>e.map(e=>String(e)))}))}catch(e){console.error("Error loading matches involving me:",e)}k(e),S(t),M(s)}catch(e){console.error("Error in loadData:",e)}finally{R(!1)}})()},[i,N,p,g,f]);let et=async e=>{e.preventDefault(),D&&(await x(D),P(""))},es=e=>{L(t=>t.includes(e)?t.filter(t=>t!==e):t.length<2?[...t,e]:t)},ea=async()=>{if(2===Y.length&&!U){W(!0);try{await v(Y[0],Y[1]);let e=await g(),t=Array.from(e).map(e=>({id:e.id||"",content:e.content||"",created_at:Math.floor(e.created_at||Date.now()/1e3),pubkey:e.pubkey||"",tags:e.tags.map(e=>e.map(e=>String(e)))}));S(t),L([]),alert("Match created successfully!")}catch(e){console.error("Error creating match:",e),alert("Failed to create match. Please try again.")}finally{W(!1)}}},er=async e=>{e.preventDefault(),J(""),Q(!0);try{await j(G);let e=await p();k(e),I(""),q(!1)}catch(e){J(e instanceof Error?e.message:"Failed to add friend")}finally{Q(!1)}};return F?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"text-2xl text-gray-600",children:"Loading..."})}):(0,a.jsx)("div",{className:"min-h-screen p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)("header",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("img",{src:"/youcupid/youcupid.png",alt:"YouCupid Logo",className:"w-[70px] h-[70px] object-contain"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-[#B71C5D]",children:"YouCupid"})]}),(0,a.jsx)("div",{className:"space-x-4",children:(0,a.jsx)("button",{onClick:()=>{y(),N.push("/")},className:"px-4 py-2 bg-[#B71C5D] text-white rounded-lg hover:bg-[#9D1850]",children:"Logout"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"border-b",children:(0,a.jsxs)("nav",{className:"flex",children:[(0,a.jsx)("button",{onClick:()=>B("profile"),className:"px-6 py-3 text-sm font-medium ".concat("profile"===z?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Your Profile"}),(0,a.jsx)("button",{onClick:()=>B("matches"),className:"px-6 py-3 text-sm font-medium ".concat("matches"===z?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Matches"}),(0,a.jsx)("button",{onClick:()=>B("chats"),className:"px-6 py-3 text-sm font-medium ".concat("chats"===z?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Chats"}),(0,a.jsx)("button",{onClick:()=>B("created-matches"),className:"px-6 py-3 text-sm font-medium ".concat("created-matches"===z?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Your Created Matches"}),(0,a.jsx)("button",{onClick:()=>B("friends"),className:"px-6 py-3 text-sm font-medium ".concat("friends"===z?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Your Friends"}),(0,a.jsx)("button",{onClick:()=>B("relays"),className:"px-6 py-3 text-sm font-medium ".concat("relays"===z?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Manage Relays"})]})}),(0,a.jsxs)("div",{className:"p-6",children:["profile"===z&&(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Profile"}),(0,a.jsx)("button",{onClick:()=>T(!H),className:"px-4 py-2 text-sm bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:H?"Cancel":"Edit Profile"})]}),H?(0,a.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{ee(!0),await b(X),T(!1)}catch(e){console.error("Failed to update profile:",e),alert("Failed to update profile. Please try again.")}finally{ee(!1)}},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Profile Picture"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=new FileReader;e.onloadend=()=>{Z({...X,picture:e.result})},e.readAsDataURL(s)}},className:"text-sm text-gray-900 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-custom-green-50 file:text-custom-green-700 hover:file:bg-custom-green-100"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"or enter an image URL:"}),(0,a.jsx)("input",{type:"url",value:X.picture,onChange:e=>Z({...X,picture:e.target.value}),placeholder:"https://example.com/your-photo.jpg",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 text-gray-900 placeholder-gray-500"})]}),X.picture&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("img",{src:X.picture,alt:"Profile Preview",className:"w-32 h-32 object-cover rounded-lg",onError:e=>{e.currentTarget.src="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"}})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:X.name,onChange:e=>Z({...X,name:e.target.value}),placeholder:"Your name",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 text-gray-900 placeholder-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"About"}),(0,a.jsx)("textarea",{value:X.about,onChange:e=>Z({...X,about:e.target.value}),placeholder:"Tell us about yourself...",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 text-gray-900 placeholder-gray-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>T(!1),className:"px-4 py-2 text-sm text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:$,className:"px-4 py-2 text-sm bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:$?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]}):(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-6",children:[(0,a.jsx)("img",{src:"string"==typeof(null==i?void 0:null===(s=i.profile)||void 0===s?void 0:s.picture)?i.profile.picture:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:(null==i?void 0:null===(n=i.profile)||void 0===n?void 0:n.name)||"Profile",className:"w-32 h-32 object-cover rounded-lg",onError:e=>{e.currentTarget.src="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:(null==i?void 0:null===(o=i.profile)||void 0===o?void 0:o.name)||"Anonymous"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 break-all mt-1",children:d}),X.about&&(0,a.jsx)("p",{className:"text-gray-700 mt-4",children:X.about})]})]})})]}),"matches"===z&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Matches"}),(0,a.jsxs)("div",{className:"space-y-4",children:[A.map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:e.tags.filter(e=>"p"===e[0]).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:(0,a.jsx)("img",{src:e[3]||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:e[2]||"Anonymous",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e[2]||e[1].slice(0,8)}),0===t&&(0,a.jsx)("span",{className:"text-gray-700",children:"matched with"})]})]},e[1]))}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Created: ",new Date(1e3*e.created_at).toLocaleString()]}),(0,a.jsx)("button",{onClick:()=>{let t=e.tags.filter(e=>"p"===e[0]).find(e=>e[1]!==d);t&&N.push("/messages?pubkey=".concat(t[1]))},className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Chat"})]})]},e.id)),0===A.length&&(0,a.jsx)("p",{className:"text-gray-700 text-center py-4",children:"No matches involving you yet. Ask your friends to match you with someone!"})]})]}),"chats"===z&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Chats"}),(0,a.jsxs)("div",{className:"space-y-4",children:[_.map(e=>{var t,s,r;return(0,a.jsx)("div",{className:"p-4 border rounded-lg hover:border-gray-300 transition-colors cursor-pointer",onClick:()=>N.push("/messages?pubkey=".concat(e.pubkey)),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:(0,a.jsx)("img",{src:(null===(t=e.profile)||void 0===t?void 0:t.picture)||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:(null===(s=e.profile)||void 0===s?void 0:s.name)||"Anonymous",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:(null===(r=e.profile)||void 0===r?void 0:r.name)||"Anonymous"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate max-w-md",children:e.lastMessage.content}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(1e3*e.lastMessage.created_at).toLocaleString()})]})]}),(0,a.jsx)("div",{className:"text-custom-green-500",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]})},e.pubkey)}),0===_.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"No active conversations"}),(0,a.jsx)("button",{onClick:()=>B("friends"),className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Start a Chat"})]})]})]}),"created-matches"===z&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Created Matches"}),(0,a.jsxs)("div",{className:"space-y-4",children:[C.map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:e.tags.filter(e=>"p"===e[0]).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:(0,a.jsx)("img",{src:e[3]||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:e[2]||"Anonymous",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e[2]||e[1].slice(0,8)}),0===t&&(0,a.jsx)("span",{className:"text-gray-700",children:"matched with"})]})]},e[1]))}),(0,a.jsxs)("p",{className:"text-sm text-gray-700 mt-2",children:["Created: ",new Date(1e3*e.created_at).toLocaleString()]})]},e.id)),0===C.length&&(0,a.jsx)("p",{className:"text-gray-700 text-center py-4",children:"You haven't created any matches yet. Go to the Create Match page to match your friends!"})]})]}),"friends"===z&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Friends"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Add Friend"}),2===Y.length&&(0,a.jsx)("button",{onClick:ea,disabled:U,className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg ".concat(U?"opacity-50 cursor-not-allowed":"hover:bg-custom-green-600"," flex items-center gap-2"),children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Match..."]}):"Match Selected Friends"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[w.map(e=>{var t,s,r;return(0,a.jsxs)("div",{className:"p-4 border rounded-lg transition-colors flex justify-between items-center ".concat(Y.includes(e.pubkey)?"border-custom-green-500 bg-custom-green-50":"hover:border-gray-300"),children:[(0,a.jsxs)("div",{className:"flex items-center flex-grow",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0 mr-4",children:(0,a.jsx)("img",{src:(null===(t=e.profile)||void 0===t?void 0:t.picture)||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:(null===(s=e.profile)||void 0===s?void 0:s.name)||"Anonymous",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:(null===(r=e.profile)||void 0===r?void 0:r.name)||"Anonymous"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 truncate",children:e.pubkey})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>N.push("/messages?pubkey=".concat(e.pubkey)),className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Chat"}),(0,a.jsx)("button",{onClick:t=>{t.preventDefault(),es(e.pubkey)},className:"px-4 py-2 rounded-lg border ".concat(Y.includes(e.pubkey)?"bg-[#B71C5D] text-white hover:bg-[#9D1850] border-transparent":"border-custom-green-500 text-custom-green-500 hover:bg-custom-green-50"),children:Y.includes(e.pubkey)?"Unselect":"Match"})]})]},e.pubkey)}),0===w.length&&(0,a.jsx)("p",{className:"text-gray-700 text-center py-4",children:"No friends found. Add some friends to get started!"})]})]}),"relays"===z&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Manage Relays"}),(0,a.jsxs)("form",{onSubmit:et,className:"flex gap-2 mb-4",children:[(0,a.jsx)("input",{type:"text",value:D,onChange:e=>P(e.target.value),placeholder:"wss://relay.example.com",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 text-gray-900 placeholder-gray-500"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Add Relay"})]}),(0,a.jsx)("ul",{className:"space-y-2",children:m.map(e=>(0,a.jsxs)("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[(0,a.jsx)("span",{className:"text-gray-900",children:e}),(0,a.jsx)("button",{onClick:()=>h(e),className:"text-rose-500 hover:text-rose-600",children:"Remove"})]},e))})]}),V&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Friend"}),(0,a.jsxs)("form",{onSubmit:er,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"pubkey",className:"block text-sm font-medium text-gray-700 mb-1",children:"Friend's Public Key"}),(0,a.jsx)("input",{type:"text",id:"pubkey",value:G,onChange:e=>I(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-custom-green-500",placeholder:"npub...",required:!0}),K&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:K})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{q(!1),I(""),J("")},className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:O||!G,className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg ".concat(O||!G?"opacity-50 cursor-not-allowed":"hover:bg-custom-green-600"," flex items-center gap-2"),children:O?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add Friend"})]})]})]})})]})]})]})})}}}]);