"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{8968:(e,t,s)=>{s.d(t,{A:()=>o});var a=s(5155),r=s(7458),l=s(6046),c=s(5565),n=s(2115);function o(){var e,t,s,o,i;let{user:d,publicKey:m,relays:x,ndk:u,addRelay:h,removeRelay:g,getFriends:p,getMatches:f,getMatchesInvolvingMe:y,logout:v,createMatch:b,updateProfile:j,addFriend:N}=(0,r.y)(),w=(0,l.useRouter)(),[k,C]=(0,n.useState)([]),[S,A]=(0,n.useState)([]),[M,E]=(0,n.useState)([]),[_,D]=(0,n.useState)([]),[F,P]=(0,n.useState)(""),[Y,L]=(0,n.useState)(!0),[R,z]=(0,n.useState)([]),[B,U]=(0,n.useState)("profile"),[W,H]=(0,n.useState)(!1),[T,V]=(0,n.useState)(!1),[q,G]=(0,n.useState)(!1),[I,K]=(0,n.useState)(""),[J,O]=(0,n.useState)(""),[Q,X]=(0,n.useState)(!1),[Z,$]=(0,n.useState)({name:(null==d?void 0:null===(e=d.profile)||void 0===e?void 0:e.name)||"",about:"",picture:"string"==typeof(null==d?void 0:null===(t=d.profile)||void 0===t?void 0:t.picture)?d.profile.picture:""}),[ee,et]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(null==d?void 0:d.profile)&&$({name:d.profile.name||"",about:d.profile.about||"",picture:"string"==typeof d.profile.picture?d.profile.picture:""})},[d]),(0,n.useEffect)(()=>{d&&u&&m&&(async()=>{try{let t=await u.fetchEvents({kinds:[4],authors:[m],limit:100}),s=new Map;for(let a of Array.from(t)){var e;let t=null===(e=a.tags.find(e=>"p"===e[0]))||void 0===e?void 0:e[1];if(!t)continue;let r=s.get(t);if(!r||r.created_at<a.created_at)try{let e=window.nostr;if(!(null==e?void 0:e.nip04))throw Error("NIP-04 encryption not supported by extension");let r=await e.nip04.decrypt(t,a.content);s.set(t,{content:r,created_at:a.created_at})}catch(e){console.error("Error decrypting message:",e),s.set(t,{content:"(Unable to decrypt message)",created_at:a.created_at})}}let a="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",r=await Promise.all(Array.from(s.entries()).map(async e=>{let[t,s]=e;try{let e=u.getUser({pubkey:t}),r=await e.fetchProfile(),l="string"==typeof(null==r?void 0:r.picture)?r.picture:a;return{pubkey:t,lastMessage:s,profile:{name:(null==r?void 0:r.name)||t.slice(0,8),picture:l}}}catch(e){return console.error("Error fetching profile for user:",t,e),{pubkey:t,lastMessage:s,profile:{name:t.slice(0,8),picture:a}}}}));r.sort((e,t)=>t.lastMessage.created_at-e.lastMessage.created_at),D(r)}catch(e){console.error("Error loading active chats:",e)}})()},[u,d,m]),(0,n.useEffect)(()=>{if(!d){w.push("/");return}(async()=>{try{let e=[],t=[],s=[];try{e=await p()}catch(e){console.error("Error loading friends:",e)}try{let e=await f();t=Array.from(e).map(e=>({id:e.id||"",content:e.content||"",created_at:Math.floor(e.created_at||Date.now()/1e3),pubkey:e.pubkey||"",tags:e.tags.map(e=>e.map(e=>String(e)))}))}catch(e){console.error("Error loading matches:",e)}try{let e=await y();s=Array.from(e).map(e=>({id:e.id||"",content:e.content||"",created_at:Math.floor(e.created_at||Date.now()/1e3),pubkey:e.pubkey||"",tags:e.tags.map(e=>e.map(e=>String(e)))}))}catch(e){console.error("Error loading matches involving me:",e)}C(e),A(t),E(s)}catch(e){console.error("Error in loadData:",e)}finally{L(!1)}})()},[d,w,p,f,y]);let es=async e=>{e.preventDefault(),F&&(await h(F),P(""))},ea=e=>{z(t=>t.includes(e)?t.filter(t=>t!==e):t.length<2?[...t,e]:t)},er=async()=>{if(2===R.length&&!W){H(!0);try{await b(R[0],R[1]);let e=await f();A(e),z([]),alert("Match created successfully!")}catch(e){console.error("Error creating match:",e),alert("Failed to create match. Please try again.")}finally{H(!1)}}},el=async e=>{e.preventDefault(),O(""),X(!0);try{await N(I);let e=await p();C(e),K(""),G(!1)}catch(e){O(e instanceof Error?e.message:"Failed to add friend")}finally{X(!1)}};return Y?(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,a.jsx)("div",{className:"text-2xl text-gray-600",children:"Loading..."})}):(0,a.jsx)("div",{className:"min-h-screen p-6",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)("header",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.default,{src:"/youcupid.png",alt:"YouCupid Logo",width:70,height:70,className:"object-contain"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-[#B71C5D]",children:"YouCupid"})]}),(0,a.jsx)("div",{className:"space-x-4",children:(0,a.jsx)("button",{onClick:()=>{v(),w.push("/")},className:"px-4 py-2 bg-[#B71C5D] text-white rounded-lg hover:bg-[#9D1850]",children:"Logout"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"border-b",children:(0,a.jsxs)("nav",{className:"flex",children:[(0,a.jsx)("button",{onClick:()=>U("profile"),className:"px-6 py-3 text-sm font-medium ".concat("profile"===B?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Your Profile"}),(0,a.jsx)("button",{onClick:()=>U("matches"),className:"px-6 py-3 text-sm font-medium ".concat("matches"===B?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Matches"}),(0,a.jsx)("button",{onClick:()=>U("chats"),className:"px-6 py-3 text-sm font-medium ".concat("chats"===B?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Chats"}),(0,a.jsx)("button",{onClick:()=>U("created-matches"),className:"px-6 py-3 text-sm font-medium ".concat("created-matches"===B?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Your Created Matches"}),(0,a.jsx)("button",{onClick:()=>U("friends"),className:"px-6 py-3 text-sm font-medium ".concat("friends"===B?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Your Friends"}),(0,a.jsx)("button",{onClick:()=>U("relays"),className:"px-6 py-3 text-sm font-medium ".concat("relays"===B?"border-b-2 border-custom-green-500 text-custom-green-600":"text-gray-700 hover:text-gray-900"),children:"Manage Relays"})]})}),(0,a.jsxs)("div",{className:"p-6",children:["profile"===B&&(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Profile"}),(0,a.jsx)("button",{onClick:()=>V(!T),className:"px-4 py-2 text-sm bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:T?"Cancel":"Edit Profile"})]}),T?(0,a.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{et(!0),await j(Z),V(!1)}catch(e){console.error("Failed to update profile:",e),alert("Failed to update profile. Please try again.")}finally{et(!1)}},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Profile Picture"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){let e=new FileReader;e.onloadend=()=>{$({...Z,picture:e.result})},e.readAsDataURL(s)}},className:"text-sm text-gray-900 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-custom-green-50 file:text-custom-green-700 hover:file:bg-custom-green-100"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"or enter an image URL:"}),(0,a.jsx)("input",{type:"url",value:Z.picture,onChange:e=>$({...Z,picture:e.target.value}),placeholder:"https://example.com/your-photo.jpg",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 text-gray-900 placeholder-gray-500"})]}),Z.picture&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("img",{src:Z.picture,alt:"Profile Preview",className:"w-32 h-32 object-cover rounded-lg",onError:e=>{e.currentTarget.src="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"}})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"Name"}),(0,a.jsx)("input",{type:"text",value:Z.name,onChange:e=>$({...Z,name:e.target.value}),placeholder:"Your name",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 text-gray-900 placeholder-gray-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-900 mb-1",children:"About"}),(0,a.jsx)("textarea",{value:Z.about,onChange:e=>$({...Z,about:e.target.value}),placeholder:"Tell us about yourself...",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 text-gray-900 placeholder-gray-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>V(!1),className:"px-4 py-2 text-sm text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:ee,className:"px-4 py-2 text-sm bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:ee?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Changes"})]})]}):(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-6",children:[(0,a.jsx)("img",{src:(null==d?void 0:null===(s=d.profile)||void 0===s?void 0:s.picture)||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:(null==d?void 0:null===(o=d.profile)||void 0===o?void 0:o.name)||"Profile",className:"w-32 h-32 object-cover rounded-lg",onError:e=>{e.currentTarget.src="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:(null==d?void 0:null===(i=d.profile)||void 0===i?void 0:i.name)||"Anonymous"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 break-all mt-1",children:m}),Z.about&&(0,a.jsx)("p",{className:"text-gray-700 mt-4",children:Z.about})]})]})})]}),"matches"===B&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Matches"}),(0,a.jsxs)("div",{className:"space-y-4",children:[M.map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:e.tags.filter(e=>"p"===e[0]).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:(0,a.jsx)("img",{src:e[3]||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:e[2]||"Anonymous",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e[2]||e[1].slice(0,8)}),0===t&&(0,a.jsx)("span",{className:"text-gray-700",children:"matched with"})]})]},e[1]))}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-700",children:["Created: ",new Date(1e3*e.created_at).toLocaleString()]}),(0,a.jsx)("button",{onClick:()=>{let t=e.tags.filter(e=>"p"===e[0]).find(e=>e[1]!==m);t&&w.push("/messages?pubkey=".concat(t[1]))},className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Chat"})]})]},e.id)),0===M.length&&(0,a.jsx)("p",{className:"text-gray-700 text-center py-4",children:"No matches involving you yet. Ask your friends to match you with someone!"})]})]}),"chats"===B&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Chats"}),(0,a.jsxs)("div",{className:"space-y-4",children:[_.map(e=>{var t,s,r;return(0,a.jsx)("div",{className:"p-4 border rounded-lg hover:border-gray-300 transition-colors cursor-pointer",onClick:()=>w.push("/messages?pubkey=".concat(e.pubkey)),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:(0,a.jsx)("img",{src:(null===(t=e.profile)||void 0===t?void 0:t.picture)||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:(null===(s=e.profile)||void 0===s?void 0:s.name)||"Anonymous",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:(null===(r=e.profile)||void 0===r?void 0:r.name)||"Anonymous"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate max-w-md",children:e.lastMessage.content}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(1e3*e.lastMessage.created_at).toLocaleString()})]})]}),(0,a.jsx)("div",{className:"text-custom-green-500",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]})},e.pubkey)}),0===_.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"No active conversations"}),(0,a.jsx)("button",{onClick:()=>U("friends"),className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Start a Chat"})]})]})]}),"created-matches"===B&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Your Created Matches"}),(0,a.jsxs)("div",{className:"space-y-4",children:[S.map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("div",{className:"flex items-center gap-4",children:e.tags.filter(e=>"p"===e[0]).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0",children:(0,a.jsx)("img",{src:e[3]||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:e[2]||"Anonymous",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e[2]||e[1].slice(0,8)}),0===t&&(0,a.jsx)("span",{className:"text-gray-700",children:"matched with"})]})]},e[1]))}),(0,a.jsxs)("p",{className:"text-sm text-gray-700 mt-2",children:["Created: ",new Date(1e3*e.created_at).toLocaleString()]})]},e.id)),0===S.length&&(0,a.jsx)("p",{className:"text-gray-700 text-center py-4",children:"You haven't created any matches yet. Go to the Create Match page to match your friends!"})]})]}),"friends"===B&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Friends"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>G(!0),className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Add Friend"}),2===R.length&&(0,a.jsx)("button",{onClick:er,disabled:W,className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg ".concat(W?"opacity-50 cursor-not-allowed":"hover:bg-custom-green-600"," flex items-center gap-2"),children:W?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Match..."]}):"Match Selected Friends"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[k.map(e=>{var t,s,r;return(0,a.jsxs)("div",{className:"p-4 border rounded-lg transition-colors flex justify-between items-center ".concat(R.includes(e.pubkey)?"border-custom-green-500 bg-custom-green-50":"hover:border-gray-300"),children:[(0,a.jsxs)("div",{className:"flex items-center flex-grow",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden flex-shrink-0 mr-4",children:(0,a.jsx)("img",{src:(null===(t=e.profile)||void 0===t?void 0:t.picture)||"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",alt:(null===(s=e.profile)||void 0===s?void 0:s.name)||"Anonymous",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:(null===(r=e.profile)||void 0===r?void 0:r.name)||"Anonymous"}),(0,a.jsx)("p",{className:"text-sm text-gray-700 truncate",children:e.pubkey})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>w.push("/messages?pubkey=".concat(e.pubkey)),className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Chat"}),(0,a.jsx)("button",{onClick:t=>{t.preventDefault(),ea(e.pubkey)},className:"px-4 py-2 rounded-lg border ".concat(R.includes(e.pubkey)?"bg-[#B71C5D] text-white hover:bg-[#9D1850] border-transparent":"border-custom-green-500 text-custom-green-500 hover:bg-custom-green-50"),children:R.includes(e.pubkey)?"Unselect":"Match"})]})]},e.pubkey)}),0===k.length&&(0,a.jsx)("p",{className:"text-gray-700 text-center py-4",children:"No friends found. Add some friends to get started!"})]})]}),"relays"===B&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Manage Relays"}),(0,a.jsxs)("form",{onSubmit:es,className:"flex gap-2 mb-4",children:[(0,a.jsx)("input",{type:"text",value:F,onChange:e=>P(e.target.value),placeholder:"wss://relay.example.com",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 text-gray-900 placeholder-gray-500"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg hover:bg-custom-green-600",children:"Add Relay"})]}),(0,a.jsx)("ul",{className:"space-y-2",children:x.map(e=>(0,a.jsxs)("li",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[(0,a.jsx)("span",{className:"text-gray-900",children:e}),(0,a.jsx)("button",{onClick:()=>g(e),className:"text-rose-500 hover:text-rose-600",children:"Remove"})]},e))})]}),q&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Friend"}),(0,a.jsxs)("form",{onSubmit:el,children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"pubkey",className:"block text-sm font-medium text-gray-700 mb-1",children:"Friend's Public Key"}),(0,a.jsx)("input",{type:"text",id:"pubkey",value:I,onChange:e=>K(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-custom-green-500",placeholder:"npub...",required:!0}),J&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:J})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{type:"button",onClick:()=>{G(!1),K(""),O("")},className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:Q||!I,className:"px-4 py-2 bg-custom-green-500 text-white rounded-lg ".concat(Q||!I?"opacity-50 cursor-not-allowed":"hover:bg-custom-green-600"," flex items-center gap-2"),children:Q?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):"Add Friend"})]})]})]})})]})]})]})})}},6447:(e,t,s)=>{function a(e){let{src:t}=e;return t.startsWith("/")?"/youcupid".concat(t):t}s.r(t),s.d(t,{default:()=>a})}}]);